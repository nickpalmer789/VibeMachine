{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar exenv_1 = require(\"exenv\");\n\nexports.canUseDOM = function () {\n  return exenv_1.canUseDOM;\n};\n\nexports.STATUS = {\n  ERROR: 'ERROR',\n  IDLE: 'IDLE',\n  INITIALIZING: 'INITIALIZING',\n  READY: 'READY',\n  RUNNING: 'RUNNING',\n  UNSUPPORTED: 'UNSUPPORTED'\n};\nexports.TYPE = {\n  DEVICE: 'device_update',\n  PLAYER: 'player_update',\n  STATUS: 'status_update',\n  TRACK: 'track_update'\n};\n\nfunction getSpotifyURIType(uri) {\n  var _a = __read(uri.split(':'), 2),\n      _b = _a[1],\n      type = _b === void 0 ? '' : _b;\n\n  return type;\n}\n\nexports.getSpotifyURIType = getSpotifyURIType;\n\nfunction isEqualArray(A, B) {\n  if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n    return false;\n  }\n\n  var result = true;\n  A.forEach(function (a) {\n    return B.forEach(function (b) {\n      result = a === b;\n    });\n  });\n  return result;\n}\n\nexports.isEqualArray = isEqualArray;\n\nfunction loadScript(attributes) {\n  if (!attributes || !attributes.source) {\n    throw new Error('Invalid attributes');\n  }\n\n  return new Promise(function (resolve, reject) {\n    var _a = __assign({\n      async: false,\n      defer: false,\n      source: ''\n    }, attributes),\n        async = _a.async,\n        defer = _a.defer,\n        id = _a.id,\n        source = _a.source;\n\n    var scriptTag = document.getElementById('spotify-player');\n\n    if (!scriptTag) {\n      var script = document.createElement('script');\n      script.id = id || '';\n      script.type = 'text/javascript';\n      script.async = async;\n      script.defer = defer;\n      script.src = source;\n\n      script.onload = function () {\n        return resolve(undefined);\n      };\n\n      script.onerror = function (error) {\n        return reject(\"createScript: \" + error.message);\n      };\n\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\n\nexports.loadScript = loadScript;\n\nfunction validateURI(input) {\n  var isValid = false;\n\n  if (input && input.indexOf(':') > -1) {\n    var _a = __read(input.split(':'), 3),\n        key = _a[0],\n        type = _a[1],\n        id = _a[2];\n\n    if (key && type && type !== 'user' && id && id.length === 22) {\n      isValid = true;\n    }\n  }\n\n  return isValid;\n}\n\nexports.validateURI = validateURI;","map":{"version":3,"sources":["/home/nick/Documents/VibeMachine/node_modules/react-spotify-web-playback/lib/utils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","defineProperty","exports","exenv_1","require","canUseDOM","STATUS","ERROR","IDLE","INITIALIZING","READY","RUNNING","UNSUPPORTED","TYPE","DEVICE","PLAYER","TRACK","getSpotifyURIType","uri","_a","split","_b","type","isEqualArray","A","B","Array","isArray","result","forEach","a","b","loadScript","attributes","source","Error","Promise","resolve","reject","async","defer","id","scriptTag","document","getElementById","script","createElement","src","onload","undefined","onerror","message","head","appendChild","validateURI","input","isValid","indexOf","key"],"mappings":"AAAA;;AACA,IAAIA,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACP;;AACD,WAAON,CAAP;AACH,GAPD;;AAQA,SAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACH,CAVD;;AAWA,IAAIO,MAAM,GAAI,QAAQ,KAAKA,MAAd,IAAyB,UAAUC,CAAV,EAAaT,CAAb,EAAgB;AAClD,MAAIU,CAAC,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAzC;AACA,MAAI,CAACF,CAAL,EAAQ,OAAOD,CAAP;AACR,MAAIV,CAAC,GAAGW,CAAC,CAACJ,IAAF,CAAOG,CAAP,CAAR;AAAA,MAAmBI,CAAnB;AAAA,MAAsBC,EAAE,GAAG,EAA3B;AAAA,MAA+BC,CAA/B;;AACA,MAAI;AACA,WAAO,CAACf,CAAC,KAAK,KAAK,CAAX,IAAgBA,CAAC,KAAK,CAAvB,KAA6B,CAAC,CAACa,CAAC,GAAGd,CAAC,CAACiB,IAAF,EAAL,EAAeC,IAApD,EAA0DH,EAAE,CAACI,IAAH,CAAQL,CAAC,CAACM,KAAV;AAC7D,GAFD,CAGA,OAAOC,KAAP,EAAc;AAAEL,IAAAA,CAAC,GAAG;AAAEK,MAAAA,KAAK,EAAEA;AAAT,KAAJ;AAAuB,GAHvC,SAIQ;AACJ,QAAI;AACA,UAAIP,CAAC,IAAI,CAACA,CAAC,CAACI,IAAR,KAAiBP,CAAC,GAAGX,CAAC,CAAC,QAAD,CAAtB,CAAJ,EAAuCW,CAAC,CAACJ,IAAF,CAAOP,CAAP;AAC1C,KAFD,SAGQ;AAAE,UAAIgB,CAAJ,EAAO,MAAMA,CAAC,CAACK,KAAR;AAAgB;AACpC;;AACD,SAAON,EAAP;AACH,CAfD;;AAgBAnB,MAAM,CAAC0B,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEH,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAII,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACAF,OAAO,CAACG,SAAR,GAAoB,YAAY;AAAE,SAAOF,OAAO,CAACE,SAAf;AAA2B,CAA7D;;AACAH,OAAO,CAACI,MAAR,GAAiB;AACbC,EAAAA,KAAK,EAAE,OADM;AAEbC,EAAAA,IAAI,EAAE,MAFO;AAGbC,EAAAA,YAAY,EAAE,cAHD;AAIbC,EAAAA,KAAK,EAAE,OAJM;AAKbC,EAAAA,OAAO,EAAE,SALI;AAMbC,EAAAA,WAAW,EAAE;AANA,CAAjB;AAQAV,OAAO,CAACW,IAAR,GAAe;AACXC,EAAAA,MAAM,EAAE,eADG;AAEXC,EAAAA,MAAM,EAAE,eAFG;AAGXT,EAAAA,MAAM,EAAE,eAHG;AAIXU,EAAAA,KAAK,EAAE;AAJI,CAAf;;AAMA,SAASC,iBAAT,CAA2BC,GAA3B,EAAgC;AAC5B,MAAIC,EAAE,GAAG/B,MAAM,CAAC8B,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAD,EAAiB,CAAjB,CAAf;AAAA,MAAoCC,EAAE,GAAGF,EAAE,CAAC,CAAD,CAA3C;AAAA,MAAgDG,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA5E;;AACA,SAAOC,IAAP;AACH;;AACDpB,OAAO,CAACe,iBAAR,GAA4BA,iBAA5B;;AACA,SAASM,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;AACxB,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,CAAd,CAAD,IAAqB,CAACE,KAAK,CAACC,OAAN,CAAcF,CAAd,CAAtB,IAA0CD,CAAC,CAAC1C,MAAF,KAAa2C,CAAC,CAAC3C,MAA7D,EAAqE;AACjE,WAAO,KAAP;AACH;;AACD,MAAI8C,MAAM,GAAG,IAAb;AACAJ,EAAAA,CAAC,CAACK,OAAF,CAAU,UAAUC,CAAV,EAAa;AACnB,WAAOL,CAAC,CAACI,OAAF,CAAU,UAAUE,CAAV,EAAa;AAC1BH,MAAAA,MAAM,GAAGE,CAAC,KAAKC,CAAf;AACH,KAFM,CAAP;AAGH,GAJD;AAKA,SAAOH,MAAP;AACH;;AACD1B,OAAO,CAACqB,YAAR,GAAuBA,YAAvB;;AACA,SAASS,UAAT,CAAoBC,UAApB,EAAgC;AAC5B,MAAI,CAACA,UAAD,IAAe,CAACA,UAAU,CAACC,MAA/B,EAAuC;AACnC,UAAM,IAAIC,KAAJ,CAAU,oBAAV,CAAN;AACH;;AACD,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAInB,EAAE,GAAG7C,QAAQ,CAAC;AAAEiE,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,KAAK,EAAE,KAAvB;AAA8BN,MAAAA,MAAM,EAAE;AAAtC,KAAD,EAA6CD,UAA7C,CAAjB;AAAA,QAA2EM,KAAK,GAAGpB,EAAE,CAACoB,KAAtF;AAAA,QAA6FC,KAAK,GAAGrB,EAAE,CAACqB,KAAxG;AAAA,QAA+GC,EAAE,GAAGtB,EAAE,CAACsB,EAAvH;AAAA,QAA2HP,MAAM,GAAGf,EAAE,CAACe,MAAvI;;AACA,QAAIQ,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAhB;;AACA,QAAI,CAACF,SAAL,EAAgB;AACZ,UAAIG,MAAM,GAAGF,QAAQ,CAACG,aAAT,CAAuB,QAAvB,CAAb;AACAD,MAAAA,MAAM,CAACJ,EAAP,GAAYA,EAAE,IAAI,EAAlB;AACAI,MAAAA,MAAM,CAACvB,IAAP,GAAc,iBAAd;AACAuB,MAAAA,MAAM,CAACN,KAAP,GAAeA,KAAf;AACAM,MAAAA,MAAM,CAACL,KAAP,GAAeA,KAAf;AACAK,MAAAA,MAAM,CAACE,GAAP,GAAab,MAAb;;AACAW,MAAAA,MAAM,CAACG,MAAP,GAAgB,YAAY;AAAE,eAAOX,OAAO,CAACY,SAAD,CAAd;AAA4B,OAA1D;;AACAJ,MAAAA,MAAM,CAACK,OAAP,GAAiB,UAAUlD,KAAV,EAAiB;AAAE,eAAOsC,MAAM,CAAC,mBAAmBtC,KAAK,CAACmD,OAA1B,CAAb;AAAkD,OAAtF;;AACAR,MAAAA,QAAQ,CAACS,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;AACH,KAVD,MAWK;AACDR,MAAAA,OAAO;AACV;AACJ,GAjBM,CAAP;AAkBH;;AACDnC,OAAO,CAAC8B,UAAR,GAAqBA,UAArB;;AACA,SAASsB,WAAT,CAAqBC,KAArB,EAA4B;AACxB,MAAIC,OAAO,GAAG,KAAd;;AACA,MAAID,KAAK,IAAIA,KAAK,CAACE,OAAN,CAAc,GAAd,IAAqB,CAAC,CAAnC,EAAsC;AAClC,QAAItC,EAAE,GAAG/B,MAAM,CAACmE,KAAK,CAACnC,KAAN,CAAY,GAAZ,CAAD,EAAmB,CAAnB,CAAf;AAAA,QAAsCsC,GAAG,GAAGvC,EAAE,CAAC,CAAD,CAA9C;AAAA,QAAmDG,IAAI,GAAGH,EAAE,CAAC,CAAD,CAA5D;AAAA,QAAiEsB,EAAE,GAAGtB,EAAE,CAAC,CAAD,CAAxE;;AACA,QAAIuC,GAAG,IAAIpC,IAAP,IAAeA,IAAI,KAAK,MAAxB,IAAkCmB,EAAlC,IAAwCA,EAAE,CAAC3D,MAAH,KAAc,EAA1D,EAA8D;AAC1D0E,MAAAA,OAAO,GAAG,IAAV;AACH;AACJ;;AACD,SAAOA,OAAP;AACH;;AACDtD,OAAO,CAACoD,WAAR,GAAsBA,WAAtB","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar exenv_1 = require(\"exenv\");\nexports.canUseDOM = function () { return exenv_1.canUseDOM; };\nexports.STATUS = {\n    ERROR: 'ERROR',\n    IDLE: 'IDLE',\n    INITIALIZING: 'INITIALIZING',\n    READY: 'READY',\n    RUNNING: 'RUNNING',\n    UNSUPPORTED: 'UNSUPPORTED',\n};\nexports.TYPE = {\n    DEVICE: 'device_update',\n    PLAYER: 'player_update',\n    STATUS: 'status_update',\n    TRACK: 'track_update',\n};\nfunction getSpotifyURIType(uri) {\n    var _a = __read(uri.split(':'), 2), _b = _a[1], type = _b === void 0 ? '' : _b;\n    return type;\n}\nexports.getSpotifyURIType = getSpotifyURIType;\nfunction isEqualArray(A, B) {\n    if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n        return false;\n    }\n    var result = true;\n    A.forEach(function (a) {\n        return B.forEach(function (b) {\n            result = a === b;\n        });\n    });\n    return result;\n}\nexports.isEqualArray = isEqualArray;\nfunction loadScript(attributes) {\n    if (!attributes || !attributes.source) {\n        throw new Error('Invalid attributes');\n    }\n    return new Promise(function (resolve, reject) {\n        var _a = __assign({ async: false, defer: false, source: '' }, attributes), async = _a.async, defer = _a.defer, id = _a.id, source = _a.source;\n        var scriptTag = document.getElementById('spotify-player');\n        if (!scriptTag) {\n            var script = document.createElement('script');\n            script.id = id || '';\n            script.type = 'text/javascript';\n            script.async = async;\n            script.defer = defer;\n            script.src = source;\n            script.onload = function () { return resolve(undefined); };\n            script.onerror = function (error) { return reject(\"createScript: \" + error.message); };\n            document.head.appendChild(script);\n        }\n        else {\n            resolve();\n        }\n    });\n}\nexports.loadScript = loadScript;\nfunction validateURI(input) {\n    var isValid = false;\n    if (input && input.indexOf(':') > -1) {\n        var _a = __read(input.split(':'), 3), key = _a[0], type = _a[1], id = _a[2];\n        if (key && type && type !== 'user' && id && id.length === 22) {\n            isValid = true;\n        }\n    }\n    return isValid;\n}\nexports.validateURI = validateURI;\n"]},"metadata":{},"sourceType":"script"}